{{en/users/drivers/iwlwifi/intel_rgb_3000.png?0x140}}

===== Introduction =====

**iwlwifi** is the wireless driver for Intel's current wireless chips. For older chips, there are other drivers: 
  * [[en/users/Drivers/ipw2100|ipw2100]] 
  * [[en/users/Drivers/ipw2200|ipw2200]] 
  * [[en/users/Drivers/iwlegacy|iwlegacy]] (for Intel® PRO/Wireless 3945ABG and Intel® Wireless Wi-Fi Link 4965AGN) 


===== Features =====
    * Station (client)
    * AP mode on 2.4GHz (on devices driven by iwlmvm, note no 5GHz AP support [[https://bugzilla.kernel.org/show_bug.cgi?id=206469#c2|due to LAR]])
    * P2P and multi-role (on devices driven by iwlmvm)
    * Monitor (sniffer) - see [[en:users:drivers:iwlwifi#about_the_monitorsniffer_mode|note]]
    * IBSS (Ad-Hoc)
===== Supported Devices =====
The following devices are supported (since kernel version):
  * Wi-Fi 6E products
      * Intel® Wi-Fi 6E AX211 (5.14)
      * [[https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/wi-fi-6e-ax210-product-brief.pdf|Intel® Wi-Fi 6E AX210]] (5.10)
  * Wi-Fi 6 products
      * [[https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/wi-fi-6-ax200-module-brief.pdf|Intel® Wi-Fi 6 AX200]] (5.1)
      * [[https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/wi-fi-6-ax201-module-brief.pdf|Intel® Wi-Fi 6 AX201]] (5.2)
  * 802.11ac products
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-9462-brief.pdf|Intel® Wireless-AC 9462]] (4.14)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-9461-brief.pdf|Intel® Wireless-AC 9461]] (4.14)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-9260-brief.pdf|Intel® Wireless-AC 9260]] (4.14)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-9560-brief.pdf|Intel® Wireless-AC 9560]] (4.14)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-8265-brief.pdf|Intel® Wireless-AC 8265]] (4.6)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-3168-brief.pdf|Intel® Wireless-AC 3168]] (4.6)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-8260-brief.pdf|Intel® Wireless-AC 8260]] (4.1)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/dual-band-wireless-ac-3165-brief.pdf|Intel® Wireless-AC 3165]] (4.1)
  * 802.11n or 802.11ac products (SKU dependent)
      * [[http://www.intel.com/content/www/us/en/wireless-products/dual-band-wireless-ac-7265.html|Intel® Wireless 7265]] (3.13)
      * [[http://www.intel.com/content/www/us/en/wireless-products/dual-band-wireless-ac-7260-bluetooth.html|Intel® Wireless 7260]] (3.10)
      * [[http://www.intel.com/content/www/us/en/wireless-products/dual-band-wireless-ac-3160-bluetooth.html|Intel® Wireless 3160]] (3.10)
  * 802.11abgn products
      * [[http://www.intel.com/content/www/us/en/wireless-products/centrino-advanced-n-6235.html|Intel® Centrino® Advanced-N 6235]] (3.2) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-advanced-n-6230-brief.html|Intel® Centrino® Advanced-N 6230]] (2.6.36)
      * [[http://www.intel.com/content/www/us/en/wireless-products/centrino-advanced-n-6205.html|Intel® Centrino® Advanced-N 6205]] (2.6.35) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-advanced-n-wimax-6150-brief.html|Intel® Centrino® Advance-N + WiMAX 6150]] (2.6.30) 
      * [[http://download.intel.com/support/wireless/wmax/6250/sb/intel_centrino_advancedn_wimax_6250_product_brief1.pdf|Intel® Centrino® Advanced-N + WiMAX 6250]] (2.6.30) 
      * [[http://www.intel.com/content/www/us/en/wireless-products/centrino-ultimate-n-6300.html|Intel® Centrino® Ultimate-N 6300]] (2.6.30) 
      * [[http://www.intel.com/products/wireless/adapters/6200/|Intel® Centrino® Advanced-N 6200]] (2.6.30) 
      * [[http://www.intel.com/Assets/PDF/prodbrief/320663.pdf|Intel® WiMAX/Wi-Fi Link 5350]] (2.6.27) 
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ultimate-n-wifi-link-5300-brief.pdf|Intel® Ultimate N Wi-Fi Link 5300]] (2.6.27)
      * [[http://www.intel.com/Assets/PDF/prodbrief/320663_5150.pdf|Intel® WiMAX/Wi-Fi Link 5150]] (2.6.29)
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/wifi-link-5100-brief.pdf|Intel® Wi-Fi Link 5100 Series]] (2.6.27)
  * 802.11bgn products
      * [[http://www.intel.com/content/www/us/en/wireless-products/centrino-wireless-n-2230.html|Intel® Centrino® Wireless-N 2230]] (3.2) 
      * [[http://www.intel.com/content/www/us/en/wireless-products/centrino-wireless-n-2200.html|Intel® Centrino® Wireless-N 2200]] (3.2) 
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/centrino-wireless-n-105-brief.pdf|Intel® Centrino® Wireless-N 105]] (3.2) 
      * [[http://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/centrino-wireless-n-135-brief.pdf|Intel® Centrino® Wireless-N 135]] (3.2) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-wireless-n-100-brief.html|Intel® Centrino® Wireless-N 100]] (2.6.37) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-wireless-n-130-brief.html|Intel® Centrino® Wireless-N 130]] (2.6.37) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-wireless-n-1030-brief.html|Intel® Centrino® Wireless-N 1030]] (2.6.36) 
      * [[http://www.intel.com/content/www/us/en/processors/centrino/centrino-wireless-n-1000-brief.html|Intel® Centrino® Wireless-N 1000]] (2.6.30) 

For more information on Intel Wireless products, please visit [[http://www.intel.com/wireless|Intel Wireless]].
===== Git repositories =====

There are four repositories that we maintain: 
        * [[http://git.kernel.org/?p=linux/kernel/git/iwlwifi/iwlwifi-fixes.git;a=summary|iwlwifi-fixes]] with fixes for the current kernel release cycle 
        * [[http://git.kernel.org/?p=linux/kernel/git/iwlwifi/iwlwifi-next.git;a=summary|iwlwifi-next]] with features for the next kernel release cycle 
        * [[http://git.kernel.org/?p=linux/kernel/git/iwlwifi/linux-firmware.git;a=summary|iwlwifi/linux-firmware]] that feeds the official [[http://git.kernel.org/?p=linux/kernel/git/firmware/linux-firmware.git|linux-firmware]] tree. It contains early releases, or content that just hasn't been merged in mainline [[http://git.kernel.org/?p=linux/kernel/git/firmware/linux-firmware.git|linux-firmware]] yet.
        * [[https://git.kernel.org/cgit/linux/kernel/git/iwlwifi/backport-iwlwifi.git/|iwlwifi/backport-iwlwifi.git]] which is a backport based tree with iwlwifi / mac80211 / cfg80211 commits only. This tree is ideal for bisecting.

===== Firmware =====

If not installed by your distribution already (check the packages) you can get the latest firmware from [[http://git.kernel.org/?p=linux/kernel/git/firmware/linux-firmware.git|linux-firmware.git]].

If you do get it from linux-firmware.git, you'll have to copy the files to the appropriate location on your system. Where that appropriate location is depends (again) on your system distribution.  You can typically find this location by looking in the udev scripts of your distro, the default on most distributions is /lib/firmware. 

Installation of the firmware is simply: 

<code># cp iwlwifi-*.{ucode,pnvm} /lib/firmware/</code>

You can now load the driver.

===== Support =====
If you have technical issues or general questions about Intel Wi-Fi on Linux, please contact [[https://intel.com/content/www/us/en/support/contact-support.html?productId=59484,59485,83418#@11|Intel Customer Support]].

For bug reports and debugging, please see the [[en:users:drivers:iwlwifi:Debugging|page]] dedicated to that.

===== 7260, 3160, 7265, 7265D, 3165 and 3168 support =====
Those devices will not be supported by the newest firmware versions: the last firmware that was released for 3160, 7260 and 7265 is -17.ucode. Bug fixes will be ported to -17.ucode. 7265D, 3165 and 3168's latest firmware version is -29.ucode. In order to determine if your 7265 device is a 'D' version, you can check the dmesg output:

<code>
Detected Intel(R) Dual Band Wireless AC 7265, REV=0x210
</code>
The revision number of a 7265D device is 0x210, if you see any other number, you have a 7265 device.

===== Firmware_class dependency =====

The firmware necessary to support the devices is distributed separately under the [[http://git.kernel.org/?p=linux/kernel/git/firmware/linux-firmware.git;a=blob_plain;f=LICENCE.iwlwifi_firmware;hb=HEAD|firmware license]]. 

Note that many distributions ship the firmware, you could install the "linux-firmware" package or similar. If that doesn't work, or you need newer firmware, read on.? 

The driver loads the firmware using the kernel's firmware_class infrastructure. More information can be found under in the [[http://kernel.org/doc/Documentation/firmware_class/README|Documentation/firmware_class/README]] file in the kernel source. In order to function correctly the driver requires this to be enabled in your kernel.  When you configure the kernel, you can find this option in the following location: 


<code>Device Drivers ->
    Generic Driver Options ->
        Userspace firmware loading support</code>
You can determine if your kernel currently has firmware loader support by looking for the <code>CONFIG_FW_LOADER</code> definition on your kernel's <code>.config</code> file. 

In addition to having the firmware_class support in your kernel, you must also have a working userspace infrastructure configured. The steps for installing and configuring this are very distribution specific and the tools differ, but distributions have this enabled. 

Once you have the firmware loader in place (or if you aren't sure and you just want to try things to see if it works), you need to install the firmware file into the appropriate location. 

===== About the backport tree =====
We merge the updates coming from the backport infrastructure on a regular basis. This means that the bleeding edge of the backport tree will run against decently recent kernel (usually against Linus's tree).
If you checkout an earlier branch / commit in backport-iwlwifi.git, you might not be able to work against the most recent kernel. Please keep that in mind.
We have a release cycle based on the backport tree. These [[en:users:drivers:iwlwifi:Core_release|Core releases]] can be very useful for someone who wants to integrate our Wi-Fi solution into his home made system.

===== About dual-boot with Windows and "fast-boot" enabled =====

If you have a dual-boot machine with a recent version of Windows and start seeing problems during initialization of the WiFi device when booting Linux, the problem could be due to the "fast startup" feature on Windows.

With this feature enabled, Windows don't really shut down the entire system, but leaves things partially running so you can start the machine faster again. Try to disable this option, on Windows 10 it should be in "Control Panel->Hardware and Sound->Power Options->System Settings". Select "Chooose what the power buttons do" to access the System Settings from the Power Options. Then disable the "Fast Startup" option in "Shutdown Settings".  This will cause Windows to fully shutdown and may solve the issue.

===== About platform noise =====
 
Wi-Fi heavily relies on radio frequencies, and those are subject to interference.
Interference may come from another Wi-Fi device, or from many other non Wi-Fi devices (e.g. microwaves) that operates on the same frequency,
and it might also come from other components of your own device/computer – this is known as 'platform noise'.
Platform noise depends on the actual platform/computer and its design/manufacturing, and not on the Intel Wi-Fi module.
 
Some common sources of platform noise might be:

  * The PCIe bus, especially when switching in/out of power saving modes.
  * [[https://www.intel.com/content/www/us/en/io/universal-serial-bus/usb3-frequency-interference-paper.html|USB3]] and graphics (in certain scenarios).
  * Sometimes, even the fact that several ingredients’ ground lines are connected can cause noise. 
 
This kind of interference might happen on 2.4GHz band, it is much less likely to happen on 5.2GHz band.
Also note that using 40MHz (and not 20MHz) channel bandwidth will increase the probability to suffer from platform noise (since more frequencies might impact the Wi-Fi performance).
 
Some potential work-around options to this issue:

  * Disable Wi-Fi's power save (prevent the PCIe link to go to power save):  power_scheme=1 module parameter for iwlmvm
  * Disable USB3 in BIOS (if possible), it not, just stop using it
  * Disable 40MHz on 2.4GHz:        cfg80211_disable_40mhz_24ghz module parameter
  * Use 5GHz band (on devices that support 5GHz operation)

The fact that one of these options helped doesn't prove that the issue being troubleshooted is 'platform noise', but it may be an indication.

Another thing that can be tried is to modify the antenna position. The antennas are typically located in the lid of the laptop. It is worth trying to open / close the lid or to rotate the system and see if it has any effect.

===== About the monitor / sniffer mode =====
Our devices support monitor mode. When you have VHT APs around, you should load the iwlwifi module with
<code>amsdu_size=3</code> This will put lots of pressure on the memory subsystem, but it will allow you to hear 12K long packets. You may see firmware crashes in case you didn't set that module parameter.


===== About iwldvm support and known issues =====

==== Wi-Fi / Bluetooth coexistence ====

Having Wi-Fi and Bluetooth running at the same time is a challenge. These scenarios have been tested thoroughly on 7260 and up, less so on earlier devices. This is why some people may face issues with devices that are handled by iwldvm. For users of these devices who have problems when Wi-Fi and Bluetooth are running concurrently, we suggest to disable BT Coex by loading iwlwifi with bt_coex_active=0 as a module parameter.

==== Power management ====
Starting from 3.17, power management has been disabled in iwldvm because users reported it improved the behavior and was a valid work around for [[https://bugzilla.kernel.org/show_bug.cgi?id=84031|issues]].
The commit that disabled power management is [[https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=f8dfc607b2b460e8e8adfdfb3c5f5bba3a4ad01b|here]].

To enable manually power management, you can set the following module parameters to these values:
iwlwifi.power_save=Y and iwldvm.force_cam=N.