
Go back --> [[en/users/Drivers/ath10k|ath10k]] 

 


===== ath10k firmware =====

The ath10k firmware images are available from [[https://git.kernel.org/cgit/linux/kernel/git/firmware/linux-firmware.git/|linux-firmware.git]] which all common Linux distributions should install by default. Latest firmware images can be downloaded from [[https://github.com/kvalo/ath10k-firmware|ath10k-firmware.git]] from which they get eventually pushed to [[https://git.kernel.org/cgit/linux/kernel/git/firmware/linux-firmware.git/|linux-firmware.git]].

==== Overview =====


^ Hardware         ^ Firmware major version/branch  ^ Latest firmware revision                                                      ^ Intended use  ^ Kernel version required*  ^ Git commit                  ^
| QCA988X          | main                           | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA988X/main|link]]    | STA           | 3.11                      | 5e3dd157d7e7                |
| QCA988X          | 10.1                           | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA988X/10.1|link]]    | AP            | 3.13                      | 8acd3c97ff9e                |
| QCA988X          | 10.2                           | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA988X/10.2|link]]    | AP            | 3.18                      | 24c88f7807fb                |
| QCA988X          | 10.2.4                         | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA988X/10.2.4|link]]  | AP            | 4.0                       | 4a16fbec1cd0                |
| QCA6164/QCA6174  | wmi-tlv                        | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA6174|link]]         | AP/STA        | 4.0                       | d63955b33b3b, ca996ec56608  |
| QCA9980          | 10.4                           | [[https://github.com/kvalo/ath10k-firmware/tree/master/QCA99X0|link]]         | AP            | 4.2                       | 8a055a8adc87                |




* Note: It is possible to use newer ath10k driver on an older kernel with backports project: https://backports.wiki.kernel.org

===== Update firmware =====

First download the firmware image from ath10k-firmware.git: 

[[https://github.com/kvalo/ath10k-firmware/tree/master/|https://github.com/kvalo/ath10k-firmware/tree/master/]] 

In this example we use firmware-2.bin_10.1.467.2-1 from 10.1 directory. Then just copy that file as firmware-2.bin to the ath10k firmware directory: 


<code>cp firmware-2.bin_10.1.467.2-1 /lib/firmware/ath10k/QCA988X/hw2.0/firmware-2.bin</code>
Then reload ath10k (or restart the system) and the new firmware is in use. 

Note: In some distributions the firmware location can be different than /lib/firmware. 


===== Firmware branches =====

ath10k firmware has different branches, they are described below. 


==== main branch ====

Firmware versions 999.999.0.x. 

Supports AP mode, STA mode, Ad-Hoc and P2P. But AP mode is not that well tested, especially problems with DFS. 


==== 10.x branch ====

Firmware versions 10.x.y. 

Branch focusing on AP mode. Supports DFS. STA mode works but not well tested. No Ad-Hoc or P2P support. 


===== Firmware API versions =====

Because firmware changes between versions we have introduced firmware API concept to ath10k. This makes it possible to support different versions of ath10k. 


==== Firmware API 1 ====

The first version. Firmware images are in separate files: firmware.bin and otp.bin. There's no FW IE support. Deprecated since March 2014. 


==== Firmware API 2 ====

Embedding both firmware and otp images into same file firmware-2.bin. Firmware meta data provided through FW IE. Added in commit 1a222435a dated Sep 27 2013, for Linux 3.13. 